@{
    ViewData["Title"] = "Create Quiz";
}


<h1>@ViewData["Create Quizz"]</h1>

<form method="post" action="/SaveQuiz/Save">
    <label for="quiz-title">Quiz Title:</label>
    <input type="text" id="quiz-title" name="Title" required>

    <div id="questions-container">
    </div>

    <button type="button" onclick="addMCQuestion()">Add MC Question</button>
    <button type="button" onclick="addTFQuestion()">Add TF Question</button>

    <button type="submit">Save Quiz</button>
</form>




<script>
    function addMCQuestion() {
        const questionsContainer = document.getElementById('questions-container');
        const MCQuestionDiv = document.createElement('div');
        var MCCount = document.querySelectorAll('.MC').length;
        MCQuestionDiv.id = `MCQuestionDiv${MCCount}`;
        MCQuestionDiv.className = `MC`;

        MCQuestionDiv.innerHTML = `
                        <label for= "MCQuestion${MCCount}"> Question ${MCCount + 1}: </label>
                                <input type = "text" id ="MCQuestion${MCCount}" name = "MCQuestions[${MCCount}].QuestionText" required >

                    <label for= "MCQuestionCorrectAns${MCCount}"> Correct Answer: </label>
                                <input type = "text" id = "MCQuestionCorrectAns${MCCount}" name = "MCQuestions[${MCCount}].CorrectAnswer" required >

                    <div id="MCAnswersDiv${MCCount}"></div>

                    <button type="button" onclick = "addAnswer('${MCCount}')" > Add Answer </button>
                `;

        questionsContainer.appendChild(MCQuestionDiv);
    }
</script>



<script>
    function addTFQuestion() {
        const questionsContainer = document.getElementById('questions-container');
        
        const questionDiv = document.createElement('div');
        var TFCount = document.querySelectorAll('.TF').length;
        questionDiv.id = `questionDiv${TFCount}`;
        questionDiv.className = `TF`;

        questionDiv.innerHTML = `
                        <label for= "TFQuestion${TFCount}"> Question ${TFCount + 1}: </label>
                            <input type = "text" id ="TFQuestion${TFCount}" name = "TFQuestions[${TFCount}].QuestionText" required >

                    <label for= "TFQuestionCorrectAns${TFCount}"> True: </label>
                                <input type = "checkbox" id = "TFQuestionCorrectAns${TFCount}" name = "TFQuestions[${TFCount}].Answer">
                    `;

        questionsContainer.appendChild(questionDiv);
    }
</script>


<script>
    function addAnswer(questionNumber) {
        const answersContainer = document.getElementById(`MCAnswersDiv${questionNumber}`);
        const answerNumber = answersContainer.children.length;

        const newAnswer = document.createElement('div');
        newAnswer.id = `wrongAnsDiv${answerNumber}`;
        newAnswer.innerHTML = `
                        <label for= "MCQuestionAns${answerNumber}" > Wrong Answer: </label>
                        <input type = "text" id = "MCQuestionAns${answerNumber}" name = "MCQuestions[${questionNumber}].Answers[${answerNumber}]" required >
                    `;

        answersContainer.appendChild(newAnswer);
    }
</script>