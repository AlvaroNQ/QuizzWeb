@{
    ViewData["Title"] = "Create Quiz";
}


<h1>@ViewData["Create Quizz"]</h1>

<form method="post" action="/SaveQuiz/Save">
    <label for="quiz-title">Quiz Title:</label>
    <input type="text" id="quiz-title" name="Title" required>

    <div id="questions-container">
    </div>

    <button type="button" onclick="addQuestion()">Add Question</button>
    <button type="submit">Save Quiz</button>
</form>


<script>
    function addQuestion() {
        const questionsContainer = document.getElementById('questions-container');
        const questionNumber = questionsContainer.children.length;

        const questionDiv = document.createElement('div');
        questionDiv.id = `questionDiv${questionNumber}`;

        questionDiv.innerHTML = `
                <label for= "question${questionNumber}"> Question ${questionNumber + 1}: </label>
                <input type = "text" id ="question${questionNumber}" name = "Questions[${questionNumber}].QuestionText" required >

                <label for= "questionCorrectAns${questionNumber}"> Correct Answer: </label>
                <input type = "text" id = "questionCorrectAns${questionNumber}" name = "Questions[${questionNumber}].CorrectAnswer" required >

                <div id="answersDiv${questionNumber}"></div>

                <button type="button" onclick = "addAnswer('${questionNumber}')" > Add Answer </button>
                `;

        questionsContainer.appendChild(questionDiv);
    }

    function addAnswer(questionNumber) {
        const answersContainer = document.getElementById(`answersDiv${questionNumber}`);
        const answerNumber = answersContainer.children.length;

        const newAnswer = document.createElement('div');
        newAnswer.id = `wrongAnsDiv${answerNumber}`;
        newAnswer.innerHTML = `
                    <label for= "questionAns${answerNumber}" > Wrong Answer: </label>
                    <input type = "text" id = "questionAns${answerNumber}" name = "Questions[${questionNumber}].Answers[${answerNumber}]" required >
                `;

        answersContainer.appendChild(newAnswer);
    }
</script>


